<?xml version="1.0" encoding="utf-8" ?>
<local:BasePage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
                xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
                xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
                x:Class="DixKontrol.MVVM.Vistas.RelatoDocumental.SesionesPage"
                x:Name="PageRoot"
                xmlns:local="clr-namespace:DixKontrol">


    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="28">

            <!-- TÍTULO -->
            <Label Text="Sesiones de Nando Dixkontrol"
                   FontSize="30"
                   FontAttributes="Bold"
                   TextColor="#FFD966"
                   HorizontalTextAlignment="Center"
                   FontFamily="Montserrat-Bold.ttf"
                   Margin="0,10,0,10"/>

            <!-- LISTA DE SESIONES -->
            <CollectionView ItemsSource="{Binding Sesiones}"
                            SelectionMode="None">

                <CollectionView.ItemTemplate>
                    <DataTemplate>

                        <!-- TARJETA ESTILIZADA -->
                        <Frame BackgroundColor="#12FFFFFF"
                               BorderColor="#30FFD966"
                               CornerRadius="20"
                               Padding="20"
                               HasShadow="False"
                               Margin="0,0,0,26">

                            <VerticalStackLayout Spacing="14">

                                <!-- NOMBRE DE LA SESIÓN -->
                                <Label Text="{Binding Nombre}"
                                       FontSize="20"
                                       FontAttributes="Bold"
                                       TextColor="#FFD966"
                                       FontFamily="Montserrat-Bold.ttf"
                                       LineBreakMode="WordWrap"/>

                                <!-- BOTÓN PLAY ESTILIZADO -->
                                <Button Text="▶ Reproducir"
                                        BackgroundColor="#FFD966"
                                        TextColor="Black"
                                        CornerRadius="22"
                                        FontFamily="Montserrat-Bold.ttf"
                                        HorizontalOptions="Center"
                                        WidthRequest="150"
                                        HeightRequest="38"
                                        Padding="10,4"
                                        FontSize="15"
                                        Command="{Binding BindingContext.PlayCommand, Source={x:Reference PageRoot}}"
                                        CommandParameter="{Binding Archivo}"/>

                            </VerticalStackLayout>

                        </Frame>

                    </DataTemplate>
                </CollectionView.ItemTemplate>

            </CollectionView>

            <!-- REPRODUCTOR -->
            <toolkit:MediaElement x:Name="Player"
                                  AutoPlay="True"
                                  ShowsPlaybackControls="True"
                                  HeightRequest="70"
                                  BackgroundColor="#000000"
                                  IsVisible="False"/>

        </VerticalStackLayout>
    </ScrollView>

</local:BasePage>